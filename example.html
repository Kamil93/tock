<!doctype html>
<html>
<head>
  <title>Tock</title>
  <script src="Tock.js"></script>
  <style>
    pre {
      background: #eee;
      border: 1px solid #ddd;
      padding: 10px;
    }
    #laptimes {
      border: 1px solid #ddd;
      padding: 10px;
      width: 200px;
    }
  </style>
  <script>
    window.onload = function() {
    
      // Setup a new timer
      var timer = new Tock({
        callback: function () {
          document.getElementById('clockface').value = timer.msToTime(timer.lap());
        }
      });
      timer.name = 'timezzz';
      
      // Add a start button
      document.getElementById('start').onclick = function () {
        console.log(timer);
        timer.start();
      }
      
      // Add a lap button
      document.getElementById('lap').onclick = function () {
        document.getElementById('laptimes').innerHTML += timer.msToTime(timer.lap()) + '<br>';
      }
      
      // Add a stop button
      document.getElementById('stop').onclick = function () {
        timer.stop();
      }
      
      // Add a reset button
      document.getElementById('reset').onclick = function () {
        timer.reset();
        document.getElementById('clockface').value = '';
        document.getElementById('laptimes').innerHTML = '';
      }
      
      
      
      
      // Setup a new countdown timer
      var countdown = new Tock({
        type: 'countdown',
        callback: function () {
          document.getElementById('countdown_clock').value = timer.msToTime(countdown.lap());
        }
      });
      countdown.name = 'countszzzz';
      
      // Add a start button
      // Send the value from the output as a start time in order for resuming to work
      document.getElementById('startCountdown').onclick = function () {
        console.log(countdown);
        countdown.start(document.getElementById('countdown_clock').value);
      }
      
      // add a stop button
      document.getElementById('stopCountdown').onclick = function () {
        countdown.stop();
        //document.getElementById('countdown_clock').value = '10:00';
      }
    }
  </script>
</head>

<body>
  <h1>Tock</h1>
  <p>
    by Mr Chimp<br>
    Available on <a href="http://github.com/mrchimp/tock">github</a>
  </p>
  
  <section>
    <h2>Timer</h2>
    <p>
      <button id="start">Start</button>
      <button id="lap">Lap</button>
      <button id="stop">Stop</button>
      <button id="reset">Reset</button>
    </p>
    <p>
      <input id="clockface" placeholder="00:00:00">
    </p>
    <p>
      <div id="laptimes"></div>
    </p>
  </section>
  
  <section>
    <h2>Countdown</h2>
    <p>
      <button id="startCountdown">Start</button> 
      <button id="stopCountdown">Stop</button> 
      <input id="countdown_clock" placeholder="00:00" value="10:00">
    </p>
  </section>
</body>
</html>